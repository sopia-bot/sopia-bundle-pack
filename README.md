# ì²­ì·¨ì ì• ì²­ì§€ìˆ˜ ë„êµ¬

React + TypeScript + Shadcn UI ê¸°ë°˜ì˜ ì²­ì·¨ì ì• ì²­ì§€ìˆ˜ ê´€ë¦¬ ë„êµ¬ì…ë‹ˆë‹¤.

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
starter_pack/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ background/          # ë°±ì—”ë“œ ì„œë²„ (stp:// í”„ë¡œí† ì½œ)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.ts            # ë©”ì¸ ì„œë²„
â”‚   â”‚   â”‚   â””â”€â”€ routes/             # API ë¼ìš°í„°
â”‚   â”‚   â”‚       â”œâ”€â”€ fanscore.ts     # ì• ì²­ì§€ìˆ˜ API
â”‚   â”‚   â”‚       â”œâ”€â”€ templates.ts    # í…œí”Œë¦¿ API
â”‚   â”‚   â”‚       â”œâ”€â”€ roulette.ts     # ë£°ë › API
â”‚   â”‚   â”‚       â””â”€â”€ shield.ts       # ì‹¤ë“œ API
â”‚   â”‚   â””â”€â”€ data/                   # JSON ë°ì´í„° ì €ì¥ì†Œ
â”‚   â”‚       â”œâ”€â”€ fanscore.json
â”‚   â”‚       â”œâ”€â”€ templates.json
â”‚   â”‚       â”œâ”€â”€ roulette-history.json
â”‚   â”‚       â””â”€â”€ shield.json
â”‚   â”‚
â”‚   â”œâ”€â”€ views/               # í”„ë¡ íŠ¸ì—”ë“œ (React)
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ App.tsx             # ë©”ì¸ ì•± & ë¼ìš°íŒ…
â”‚   â”‚   â”‚   â”œâ”€â”€ stores/             # Zustand ìƒíƒœ ê´€ë¦¬
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useAppStore.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ pages/              # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TemplateSettings.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RouletteHistory.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FanscoreSettings.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ShieldSettings.tsx
â”‚   â”‚   â”‚   â””â”€â”€ components/         # ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚       â””â”€â”€ Layout.tsx
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”‚
â”‚   â””â”€â”€ worker/              # ì›Œì»¤ (ë³„ë„ ì‘ì—…)
â”‚
â””â”€â”€ package.json             # ë£¨íŠ¸ íŒ¨í‚¤ì§€ ì„¤ì •
```

## ğŸš€ ì‹œì‘í•˜ê¸°

### 1. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
pnpm install
```

### 2. ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
# ì „ì²´ í”„ë¡œì íŠ¸ ê°œë°œ ëª¨ë“œë¡œ ì‹¤í–‰
pnpm dev

# ë˜ëŠ” ê°œë³„ ì‹¤í–‰
pnpm --filter views dev        # í”„ë¡ íŠ¸ì—”ë“œë§Œ
pnpm --filter background dev   # ë°±ì—”ë“œë§Œ
```

### 3. ë¹Œë“œ

```bash
pnpm build
```

## ğŸ“ ì£¼ìš” ê¸°ëŠ¥

### 1. ëŒ€ì‹œë³´ë“œ
- ì• ì²­ì§€ìˆ˜ TOP 10 ë­í‚¹
- ì‹¤ë“œ ìƒíƒœ í‘œì‹œ
- ë¯¸ì‚¬ìš© ë£°ë › í‹°ì¼“ í˜„í™©
- ìµœê·¼ ë£°ë › ë‹¹ì²¨ í˜„í™©

### 2. í…œí”Œë¦¿ ì„¤ì •
- ë£°ë › í…œí”Œë¦¿ ìƒì„±/ìˆ˜ì •/ì‚­ì œ
- ë£°ë › ë°©ì‹ ì„ íƒ (ìŠ¤í‹°ì»¤/ìŠ¤í‘¼/ì¢‹ì•„ìš”)
- ì•„ì´í…œ ì¶”ê°€ ë° í™•ë¥  ì„¤ì • (ìµœì†Œ 0.001%)
- ë¶„ë°° ëª¨ë“œ, ìë™ ì‹¤í–‰, 1% íš¨ê³¼ìŒ ì„¤ì •

### 3. ë£°ë › ê¸°ë¡
- í…œí”Œë¦¿ë³„ ë‹¹ì²¨ ë‚´ì—­ ì¡°íšŒ
- í‹°ì¼“ ìƒíƒœ ê´€ë¦¬ (ì‚¬ìš©ë¨/ì˜ˆì •)
- DJê°€ ì‚¬ìš© ìƒíƒœ ì „í™˜ ê¸°ëŠ¥
- í•„í„°ë§ (í…œí”Œë¦¿ë³„, ìƒíƒœë³„)

### 4. ì• ì²­ì§€ìˆ˜ ì„¤ì •
- ì±„íŒ…/ì¢‹ì•„ìš”/ìŠ¤í‘¼ ì ìˆ˜ ì„¤ì •
- ëŒë°œ í€´ì¦ˆ ë³´ë„ˆìŠ¤ ì„¤ì •
- ë³µê¶Œ ì‹œìŠ¤í…œ ì„¤ì •

### 5. ì‹¤ë“œ ì„¤ì •
- ì‹¤ë“œ ê°œìˆ˜ ê´€ë¦¬ (ì¦ê°€/ê°ì†Œ)
- ì‹¤ë“œ ì´ˆê¸°í™”
- ë³€ê²½ ì´ë ¥ ì¡°íšŒ

## ğŸ”Œ API ì—”ë“œí¬ì¸íŠ¸

ë°±ì—”ë“œëŠ” `stp://starter-pack.sopia.dev` ë¡œ ì ‘ê·¼í•©ë‹ˆë‹¤.

### ì• ì²­ì§€ìˆ˜ API
- `GET /fanscore/ranking` - ë­í‚¹ ì¡°íšŒ
- `GET /fanscore/user/:userId` - íŠ¹ì • ì‚¬ìš©ì ì¡°íšŒ
- `PUT /fanscore/user/:userId` - ì• ì²­ì§€ìˆ˜ ì—…ë°ì´íŠ¸

### í…œí”Œë¦¿ API
- `GET /templates` - í…œí”Œë¦¿ ëª©ë¡
- `GET /templates/:templateId` - íŠ¹ì • í…œí”Œë¦¿ ì¡°íšŒ
- `POST /templates` - í…œí”Œë¦¿ ìƒì„±
- `PUT /templates/:templateId` - í…œí”Œë¦¿ ìˆ˜ì •
- `DELETE /templates/:templateId` - í…œí”Œë¦¿ ì‚­ì œ

### ë£°ë › API
- `GET /roulette/history` - ë£°ë › ê¸°ë¡ ì¡°íšŒ
- `GET /roulette/history/:templateId` - í…œí”Œë¦¿ë³„ ê¸°ë¡ ì¡°íšŒ
- `POST /roulette/spin/:templateId` - ë£°ë › ì‹¤í–‰
- `PUT /roulette/history/:recordId/use` - ì‚¬ìš© ìƒíƒœ ë³€ê²½

### ì‹¤ë“œ API
- `GET /shield` - ì‹¤ë“œ ìƒíƒœ ì¡°íšŒ
- `PUT /shield/change` - ì‹¤ë“œ ë³€ê²½
- `PUT /shield/reset` - ì‹¤ë“œ ì´ˆê¸°í™”

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### í”„ë¡ íŠ¸ì—”ë“œ
- **React 19** + **TypeScript**
- **React Router DOM** - ë¼ìš°íŒ…
- **Zustand** - ìƒíƒœ ê´€ë¦¬
- **Tailwind CSS** - ìŠ¤íƒ€ì¼ë§
- **Lucide React** - ì•„ì´ì½˜
- **Vite** - ë¹Œë“œ ë„êµ¬

### ë°±ì—”ë“œ
- **Node.js** + **Express**
- **TypeScript**
- **JSON íŒŒì¼ ê¸°ë°˜ ë°ì´í„° ì €ì¥**
- **Rspack** - ë¹Œë“œ ë„êµ¬

## ğŸ“Š ë°ì´í„° êµ¬ì¡°

### ì• ì²­ì§€ìˆ˜ (fanscore.json)
```json
{
  "user_id": 12345,
  "nickname": "í™ê¸¸ë™",
  "score": 138,
  "rank": 5,
  "chat_count": 12,
  "like_count": 20,
  "spoon_count": 2
}
```

### ë£°ë › í…œí”Œë¦¿ (templates.json)
```json
{
  "template_id": "default-1",
  "name": "ê¸°ë³¸ ë£°ë ›",
  "mode": "sticker",
  "sticker": "heart",
  "division": true,
  "auto_run": true,
  "sound_below_1percent": true,
  "items": [
    { "type": "shield", "label": "ì‹¤ë“œ 1íšŒ", "percentage": 10 },
    { "type": "ticket", "label": "ë³µê¶Œ", "percentage": 0.001 }
  ]
}
```

### ë£°ë › ê¸°ë¡ (roulette-history.json)
```json
{
  "id": "roulette-1",
  "template_id": "default-1",
  "user_id": 1,
  "nickname": "í™ê¸¸ë™",
  "item": { "type": "shield", "label": "ì‹¤ë“œ 1íšŒ", "percentage": 10 },
  "used": false,
  "timestamp": "2025-01-15T10:30:00Z"
}
```

### ì‹¤ë“œ (shield.json)
```json
{
  "shield_count": 0,
  "history": [
    { "change": -1, "reason": "ê³µê²©ë°›ìŒ", "time": "2025-01-15T12:00:00Z" }
  ]
}
```

## ğŸ“Œ ì£¼ì˜ì‚¬í•­

- ì•„ì´í…œ í™•ë¥ ì˜ ì´í•©ì€ 100%ë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤
- 100% ë¯¸ë§Œì¼ ê²½ìš° ë‚˜ë¨¸ì§€ëŠ” ìë™ìœ¼ë¡œ ê½ì´ ë©ë‹ˆë‹¤
- ìµœì†Œ í™•ë¥ ì€ 0.001% ì…ë‹ˆë‹¤
- ëª¨ë“  ë°ì´í„°ëŠ” JSON íŒŒì¼ì— ì €ì¥ë˜ë©° DBë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤

## ğŸ“Š ë¡œê¹… ì‹œìŠ¤í…œ

ë°±ì—”ë“œëŠ” Winstonì„ ì‚¬ìš©í•œ í¬ê´„ì ì¸ ë¡œê¹… ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤:

- **ë¡œê·¸ ë ˆë²¨**: ê°œë°œ(debug), í”„ë¡œë•ì…˜(info)
- **ë¡œê·¸ ë¡œí…Œì´ì…˜**: daily-rotate-file (14ì¼ ë³´ê´€, 20MB ìµœëŒ€)
- **ì‹œê°„ëŒ€**: KST (Asia/Seoul)
- **ë¡œê·¸ íŒŒì¼**: 
  - `error-YYYY-MM-DD.log` - ì—ëŸ¬ ë¡œê·¸
  - `combined-YYYY-MM-DD.log` - ëª¨ë“  ë¡œê·¸
  - `exceptions-YYYY-MM-DD.log` - ì²˜ë¦¬ë˜ì§€ ì•Šì€ ì˜ˆì™¸
  - `rejections-YYYY-MM-DD.log` - Promise rejection

ìì„¸í•œ ë‚´ìš©ì€ [apps/background/LOGGING.md](apps/background/LOGGING.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ’¾ ë°ì´í„° ê´€ë¦¬

ë°±ì—”ë“œëŠ” JSON íŒŒì¼ ê¸°ë°˜ì˜ ë°ì´í„° ì €ì¥ì†Œë¥¼ ì‚¬ìš©í•˜ë©°, ìµœì´ˆ ì§„ì… ì‹œ ìë™ìœ¼ë¡œ ê¸°ë³¸ ë°ì´í„°ë¥¼ ìƒì„±í•©ë‹ˆë‹¤:

- **ìë™ ì´ˆê¸°í™”**: ì„œë²„ ì‹œì‘ ì‹œ ëª¨ë“  ë°ì´í„° íŒŒì¼ ìë™ ìƒì„±
- **ê¸°ë³¸ ë°ì´í„°**: ìƒ˜í”Œ ì‚¬ìš©ì, ê¸°ë³¸ í…œí”Œë¦¿, ì„¤ì •ê°’ ë“± í¬í•¨
- **ì•ˆì „í•œ íŒŒì¼ ê´€ë¦¬**: íŒŒì¼ ì¡´ì¬ ì—¬ë¶€ í™•ì¸ ë° ì—ëŸ¬ ì²˜ë¦¬
- **ë°ì´í„° ë¬´ê²°ì„±**: ê²€ì¦ ë¡œì§ ë° ë°±ì—… ì‹œìŠ¤í…œ

ìì„¸í•œ ë‚´ìš©ì€ [apps/background/DATA_MANAGEMENT.md](apps/background/DATA_MANAGEMENT.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

## ğŸ¨ UI/UX íŠ¹ì§•

- ë‹¤í¬ ëª¨ë“œ ë””ìì¸
- ì§ê´€ì ì¸ ë„¤ë¹„ê²Œì´ì…˜
- ì‹¤ì‹œê°„ ìƒíƒœ ì—…ë°ì´íŠ¸
- ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ
- ì• ë‹ˆë©”ì´ì…˜ ë° íŠ¸ëœì§€ì…˜

## ğŸ“„ ë¼ì´ì„¼ìŠ¤

MIT
